<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common :: head(title='Change Password')}"></head>
<body>
	<header th:replace="~{common :: header(isLoggedIn=false, userName='')}"></header>
	<div class="container position-relative">
		<div
			class="position-absolute top-0 start-50 translate-middle-x mt-5 w-100 row justify-content-center">
			<div class="card p-3 col-4 row">
				<h3 class="card-title col-12">パスワード変更</h3>
				<div th:if="${errorMessage != null}" th:text="${errorMessage}"
					class="text-center text-danger text-pre-wrap pt-3 error-message-container">
				</div>
				<div class="card-body">
					<div th:if="${isCompleted}">
						<p class="text-center">パスワードを変更しました。</p>
                        <p class="text-center">この画面は閉じてください。</p>
					</div>
					<div th:unless="${isCompleted}">
						<form action="#" th:action="@{/change-password}" method="post"
							class="d-flex flex-column justify-content-center align-items-center gap-3"
							th:object="${changePasswordForm}">
							<div class="col-12">
								<label for="currentPassword" class="form-label">現在のパスワード</label>
								<input type="password" class="form-control"
									th:field="*{currentPassword}" minlength=8 maxlength=32 required>
							</div>
							<div class="col-12">
								<label for="newPassword" class="form-label">新しいパスワード</label>
								<input type="password" class="form-control"
									th:field="*{newPassword}" minlength=8 maxlength=32 required>
							</div>
							<div class="col-12">
								<label for="newPasswordConfirm" class="form-label">新しいパスワード(確認用)</label>
								<input type="password" class="form-control"
									th:field="*{newPasswordConfirm}" minlength=8 maxlength=32
									required>
							</div>
							<div class="col-12 row justify-content-center align-items-center">
								<div class="col-4"></div>
								<div class="col-4 d-flex justify-content-center">
									<button type="submit" class="btn btn-primary">変更</button>
								</div>
								<div class="col-4 d-flex justify-content-center"></div>
							</div>
						</form>
					</div>

				</div>
			</div>
		</div>
	</div>
</body>
</html>